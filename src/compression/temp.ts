import { decompressRpcPackets } from "./vtcompression.js";

// const rpc: RPCPacket = {
// 	className: "VTOLLobby",
// 	method: "UpdateLobbyStatus",
// 	args: [1],
// 	id: "109775241739977827"
// 	// gameId: "",
// 	// type: "rpcPacket"
// };

// const compressed = compressRpcPackets([rpc], true);
const data = {
	type: "Buffer",
	data: [
		5, 12, 11, 65, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 12, 82, 97, 119, 76, 111, 98, 98, 121, 83, 121, 110, 99, 9, 86, 84, 79, 76, 76, 111, 98,
		98, 121, 15, 85, 112, 100, 97, 116, 101, 76, 111, 98, 98, 121, 73, 110, 102, 111, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 52, 55, 54, 53, 57, 55, 49, 53,
		51, 17, 85, 112, 100, 97, 116, 101, 77, 105, 115, 115, 105, 111, 110, 73, 110, 102, 111, 17, 85, 112, 100, 97, 116, 101, 76, 111, 98, 98, 121, 83, 116,
		97, 116, 117, 115, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 51, 54, 54, 55, 55, 55, 53, 53, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 49, 56, 56, 56,
		53, 48, 49, 56, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 52, 52, 57, 53, 49, 48, 56, 52, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 52, 52, 56, 50,
		57, 55, 51, 55, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 52, 53, 48, 48, 49, 50, 51, 51, 0, 0, 0, 0, 0, 0, 0, 0, 27, 0, 11, 66, 86, 82, 32, 80, 105,
		108, 108, 97, 114, 115, 0, 1, 48, 0, 8, 49, 46, 49, 50, 46, 53, 102, 49, 2, 4, 0, 15, 72, 101, 97, 100, 108, 101, 115, 115, 32, 83, 101, 114, 118, 101,
		114, 0, 10, 50, 56, 54, 48, 57, 53, 54, 49, 56, 49, 0, 7, 80, 105, 108, 108, 97, 114, 115, 2, 0, 0, 11, 116, 119, 105, 110, 32, 116, 111, 119, 101, 114,
		115, 0, 19, 119, 44, 50, 116, 111, 119, 101, 114, 44, 50, 56, 54, 49, 54, 56, 52, 53, 50, 51, 0, 2, 49, 54, 0, 1, 49, 2, 3, 0, 6, 50, 116, 111, 119, 101,
		114, 0, 8, 50, 32, 116, 111, 119, 101, 114, 115, 0, 10, 50, 56, 54, 49, 54, 56, 52, 53, 50, 51, 0, 10, 116, 119, 105, 110, 32, 116, 111, 119, 101, 114, 0,
		11, 65, 114, 116, 105, 99, 32, 67, 108, 97, 115, 104, 0, 34, 119, 44, 65, 114, 116, 105, 99, 32, 67, 108, 97, 115, 104, 32, 119, 105, 116, 104, 32, 84,
		45, 53, 53, 44, 50, 56, 54, 52, 50, 51, 57, 54, 50, 57, 0, 2, 49, 52, 0, 21, 65, 114, 116, 105, 99, 32, 67, 108, 97, 115, 104, 32, 119, 105, 116, 104, 32,
		84, 45, 53, 53, 0, 10, 50, 56, 54, 52, 50, 51, 57, 54, 50, 57, 0, 4, 84, 101, 115, 116, 0, 7, 77, 105, 115, 115, 105, 111, 110, 0, 36, 79, 112, 101, 110,
		32, 87, 111, 114, 108, 100, 32, 67, 111, 109, 98, 97, 116, 32, 86, 50, 32, 40, 80, 118, 69, 44, 32, 83, 116, 97, 110, 100, 97, 114, 100, 41, 0, 20, 79,
		112, 101, 110, 32, 87, 111, 114, 108, 100, 32, 67, 111, 109, 98, 97, 116, 32, 86, 50, 0, 21, 70, 114, 101, 101, 32, 70, 108, 105, 103, 104, 116, 32, 47,
		32, 65, 105, 114, 115, 104, 111, 119, 37, 0, 0, 0, 16, 1, 15, 0, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 52, 55, 54, 53, 57, 55, 49, 53, 51, 0, 16, 50,
		52, 47, 55, 32, 66, 86, 82, 32, 40, 49, 54, 58, 48, 48, 41, 0, 23, 67, 104, 97, 115, 101, 115, 32, 100, 101, 100, 105, 99, 97, 116, 101, 100, 32, 115,
		101, 114, 118, 101, 114, 0, 17, 55, 54, 53, 54, 49, 49, 57, 57, 51, 55, 54, 53, 50, 51, 51, 50, 56, 17, 0, 24, 119, 44, 66, 86, 82, 32, 80, 105, 108, 108,
		97, 114, 115, 44, 50, 56, 54, 48, 57, 53, 54, 49, 56, 49, 0, 2, 49, 56, 18, 18, 19, 18, 11, 18, 12, 20, 19, 35, 4, 106, 91, 34, 50, 52, 47, 55, 32, 66,
		86, 82, 32, 40, 49, 54, 58, 48, 48, 41, 34, 44, 34, 66, 86, 82, 32, 80, 105, 108, 108, 97, 114, 115, 34, 44, 52, 44, 49, 56, 44, 102, 97, 108, 115, 101,
		44, 102, 97, 108, 115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49, 57, 57, 51, 55, 54, 53, 50, 51, 51, 50, 56, 34, 44, 34, 67, 104, 97, 115, 101,
		115, 32, 100, 101, 100, 105, 99, 97, 116, 101, 100, 32, 115, 101, 114, 118, 101, 114, 34, 44, 102, 97, 108, 115, 101, 93, 17, 37, 4, 6, 17, 17, 21, 22,
		23, 11, 17, 38, 4, 1, 24, 19, 35, 4, 106, 91, 34, 50, 52, 47, 55, 32, 66, 86, 82, 32, 40, 49, 54, 58, 48, 48, 41, 34, 44, 34, 66, 86, 82, 32, 80, 105,
		108, 108, 97, 114, 115, 34, 44, 52, 44, 49, 56, 44, 102, 97, 108, 115, 101, 44, 102, 97, 108, 115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49, 57,
		57, 51, 55, 54, 53, 50, 51, 51, 50, 56, 34, 44, 34, 67, 104, 97, 115, 101, 115, 32, 100, 101, 100, 105, 99, 97, 116, 101, 100, 32, 115, 101, 114, 118,
		101, 114, 34, 44, 102, 97, 108, 115, 101, 93, 17, 37, 4, 6, 17, 17, 21, 22, 23, 11, 17, 38, 4, 1, 24, 16, 1, 15, 0, 18, 49, 48, 57, 55, 55, 53, 50, 52,
		49, 55, 52, 52, 56, 57, 52, 55, 53, 48, 0, 12, 119, 105, 108, 108, 39, 115, 32, 108, 111, 98, 98, 121, 0, 4, 119, 105, 108, 108, 0, 17, 55, 54, 53, 54,
		49, 49, 57, 57, 48, 52, 53, 54, 53, 53, 50, 57, 57, 25, 26, 27, 18, 28, 19, 28, 11, 0, 8, 66, 114, 105, 101, 102, 105, 110, 103, 12, 29, 23, 35, 160, 150,
		217, 138, 3, 83, 91, 34, 119, 105, 108, 108, 39, 115, 32, 108, 111, 98, 98, 121, 34, 44, 34, 116, 119, 105, 110, 32, 116, 111, 119, 101, 114, 115, 34, 44,
		51, 44, 49, 54, 44, 102, 97, 108, 115, 101, 44, 102, 97, 108, 115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49, 57, 57, 48, 52, 53, 54, 53, 53, 50,
		57, 57, 34, 44, 34, 119, 105, 108, 108, 34, 44, 102, 97, 108, 115, 101, 93, 21, 37, 160, 150, 217, 138, 3, 6, 25, 30, 31, 32, 33, 11, 21, 38, 160, 150,
		217, 138, 3, 1, 24, 23, 35, 160, 150, 217, 138, 3, 83, 91, 34, 119, 105, 108, 108, 39, 115, 32, 108, 111, 98, 98, 121, 34, 44, 34, 116, 119, 105, 110, 32,
		116, 111, 119, 101, 114, 115, 34, 44, 51, 44, 49, 54, 44, 102, 97, 108, 115, 101, 44, 102, 97, 108, 115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49,
		57, 57, 48, 52, 53, 54, 53, 53, 50, 57, 57, 34, 44, 34, 119, 105, 108, 108, 34, 44, 102, 97, 108, 115, 101, 93, 21, 37, 160, 150, 217, 138, 3, 6, 25, 30,
		31, 32, 33, 11, 21, 38, 160, 150, 217, 138, 3, 1, 24, 16, 1, 15, 0, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 51, 54, 54, 55, 55, 55, 53, 53, 0, 14, 98,
		97, 100, 97, 122, 122, 39, 115, 32, 108, 111, 98, 98, 121, 0, 6, 98, 97, 100, 97, 122, 122, 0, 17, 55, 54, 53, 54, 49, 49, 57, 56, 50, 52, 57, 53, 49, 57,
		52, 55, 54, 34, 35, 36, 18, 28, 19, 28, 11, 0, 7, 68, 101, 98, 114, 105, 101, 102, 12, 2, 2, 19, 35, 7, 87, 91, 34, 98, 97, 100, 97, 122, 122, 39, 115,
		32, 108, 111, 98, 98, 121, 34, 44, 34, 65, 114, 116, 105, 99, 32, 67, 108, 97, 115, 104, 34, 44, 50, 44, 49, 52, 44, 102, 97, 108, 115, 101, 44, 102, 97,
		108, 115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49, 57, 56, 50, 52, 57, 53, 49, 57, 52, 55, 54, 34, 44, 34, 98, 97, 100, 97, 122, 122, 34, 44, 102,
		97, 108, 115, 101, 93, 17, 37, 7, 6, 34, 37, 34, 38, 39, 11, 17, 38, 7, 1, 24, 16, 1, 15, 0, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 49, 56, 56, 56,
		53, 48, 49, 56, 0, 21, 67, 112, 116, 32, 79, 98, 121, 67, 108, 105, 99, 107, 115, 39, 115, 32, 108, 111, 98, 98, 121, 0, 13, 67, 112, 116, 32, 79, 98,
		121, 67, 108, 105, 99, 107, 115, 0, 17, 55, 54, 53, 54, 49, 49, 57, 56, 56, 53, 52, 51, 49, 52, 48, 51, 51, 25, 26, 27, 18, 28, 19, 28, 11, 40, 12, 2, 12,
		19, 35, 8, 102, 91, 34, 67, 112, 116, 32, 79, 98, 121, 67, 108, 105, 99, 107, 115, 39, 115, 32, 108, 111, 98, 98, 121, 34, 44, 34, 116, 119, 105, 110, 32,
		116, 111, 119, 101, 114, 115, 34, 44, 49, 50, 44, 49, 54, 44, 102, 97, 108, 115, 101, 44, 102, 97, 108, 115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49,
		49, 57, 56, 56, 53, 52, 51, 49, 52, 48, 51, 51, 34, 44, 34, 67, 112, 116, 32, 79, 98, 121, 67, 108, 105, 99, 107, 115, 34, 44, 102, 97, 108, 115, 101, 93,
		17, 37, 8, 6, 25, 30, 31, 32, 33, 11, 17, 38, 8, 1, 24, 19, 35, 8, 102, 91, 34, 67, 112, 116, 32, 79, 98, 121, 67, 108, 105, 99, 107, 115, 39, 115, 32,
		108, 111, 98, 98, 121, 34, 44, 34, 116, 119, 105, 110, 32, 116, 111, 119, 101, 114, 115, 34, 44, 49, 50, 44, 49, 54, 44, 102, 97, 108, 115, 101, 44, 102,
		97, 108, 115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49, 57, 56, 56, 53, 52, 51, 49, 52, 48, 51, 51, 34, 44, 34, 67, 112, 116, 32, 79, 98, 121, 67,
		108, 105, 99, 107, 115, 34, 44, 102, 97, 108, 115, 101, 93, 17, 37, 8, 6, 25, 30, 31, 32, 33, 11, 17, 38, 8, 1, 24, 16, 1, 15, 0, 18, 49, 48, 57, 55, 55,
		53, 50, 52, 49, 55, 52, 52, 57, 53, 49, 48, 56, 52, 0, 11, 103, 117, 121, 39, 115, 32, 108, 111, 98, 98, 121, 0, 3, 103, 117, 121, 0, 17, 55, 54, 53, 54,
		49, 49, 57, 57, 50, 52, 55, 53, 53, 56, 55, 54, 55, 34, 35, 36, 18, 28, 19, 28, 11, 40, 12, 20, 19, 35, 9, 81, 91, 34, 103, 117, 121, 39, 115, 32, 108,
		111, 98, 98, 121, 34, 44, 34, 65, 114, 116, 105, 99, 32, 67, 108, 97, 115, 104, 34, 44, 52, 44, 49, 52, 44, 102, 97, 108, 115, 101, 44, 102, 97, 108, 115,
		101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49, 57, 57, 50, 52, 55, 53, 53, 56, 55, 54, 55, 34, 44, 34, 103, 117, 121, 34, 44, 102, 97, 108, 115, 101,
		93, 17, 37, 9, 6, 34, 37, 34, 38, 39, 11, 17, 38, 9, 1, 24, 16, 1, 15, 0, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 52, 52, 56, 50, 57, 55, 51, 55, 0,
		9, 52, 50, 48, 32, 115, 116, 117, 102, 102, 0, 16, 101, 118, 105, 108, 32, 112, 105, 109, 112, 32, 119, 105, 122, 97, 114, 100, 0, 17, 55, 54, 53, 54, 49,
		49, 57, 56, 51, 57, 48, 56, 48, 53, 57, 49, 49, 41, 0, 29, 119, 44, 83, 116, 97, 110, 100, 97, 114, 100, 32, 68, 121, 110, 97, 109, 105, 99, 44, 50, 56,
		55, 48, 55, 48, 50, 53, 48, 48, 0, 1, 56, 18, 18, 19, 18, 11, 40, 12, 2, 8, 19, 35, 10, 116, 91, 34, 52, 50, 48, 32, 115, 116, 117, 102, 102, 34, 44, 34,
		79, 112, 101, 110, 32, 87, 111, 114, 108, 100, 32, 67, 111, 109, 98, 97, 116, 32, 86, 50, 32, 40, 80, 118, 69, 44, 32, 83, 116, 97, 110, 100, 97, 114,
		100, 41, 34, 44, 56, 44, 56, 44, 102, 97, 108, 115, 101, 44, 102, 97, 108, 115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49, 57, 56, 51, 57, 48, 56,
		48, 53, 57, 49, 49, 34, 44, 34, 101, 118, 105, 108, 32, 112, 105, 109, 112, 32, 119, 105, 122, 97, 114, 100, 34, 44, 102, 97, 108, 115, 101, 93, 17, 37,
		10, 6, 41, 0, 16, 83, 116, 97, 110, 100, 97, 114, 100, 32, 68, 121, 110, 97, 109, 105, 99, 42, 0, 10, 50, 56, 55, 48, 55, 48, 50, 53, 48, 48, 42, 11, 17,
		38, 10, 1, 24, 16, 1, 15, 0, 18, 49, 48, 57, 55, 55, 53, 50, 52, 49, 55, 52, 53, 48, 48, 49, 50, 51, 51, 0, 14, 114, 111, 108, 97, 120, 119, 39, 115, 32,
		108, 111, 98, 98, 121, 0, 6, 114, 111, 108, 97, 120, 119, 0, 17, 55, 54, 53, 54, 49, 49, 57, 57, 49, 51, 57, 50, 57, 50, 50, 57, 49, 43, 0, 34, 98, 44,
		97, 105, 114, 115, 104, 111, 119, 70, 114, 101, 101, 102, 108, 105, 103, 104, 116, 44, 113, 117, 105, 99, 107, 77, 80, 70, 108, 105, 103, 104, 116, 115,
		27, 18, 28, 19, 28, 11, 40, 12, 29, 19, 35, 11, 97, 91, 34, 114, 111, 108, 97, 120, 119, 39, 115, 32, 108, 111, 98, 98, 121, 34, 44, 34, 70, 114, 101,
		101, 32, 70, 108, 105, 103, 104, 116, 32, 47, 32, 65, 105, 114, 115, 104, 111, 119, 34, 44, 51, 44, 49, 54, 44, 102, 97, 108, 115, 101, 44, 102, 97, 108,
		115, 101, 44, 91, 93, 44, 34, 55, 54, 53, 54, 49, 49, 57, 57, 49, 51, 57, 50, 57, 50, 50, 57, 49, 34, 44, 34, 114, 111, 108, 97, 120, 119, 34, 44, 102,
		97, 108, 115, 101, 93, 17, 37, 11, 6, 43, 0, 17, 97, 105, 114, 115, 104, 111, 119, 70, 114, 101, 101, 102, 108, 105, 103, 104, 116, 0, 14, 113, 117, 105,
		99, 107, 77, 80, 70, 108, 105, 103, 104, 116, 115, 0, 8, 98, 117, 105, 108, 116, 45, 105, 110, 0, 10, 101, 95, 99, 111, 97, 115, 116, 66, 97, 121, 10, 17,
		38, 11, 1, 24
	]
};

const compressedData = Buffer.from(data.data);
const decompressed = decompressRpcPackets(compressedData);
console.log(decompressed.map(d => d.id));
// console.log(`Compressed size: ${compressed.length} bytes`);
